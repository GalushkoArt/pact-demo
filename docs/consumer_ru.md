---
title: –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è (Consumer tests)
---

–ò—Å–∫—É—Å—Å—Ç–≤–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ö–æ—Ä–æ—à–∏—Ö consumer-—Ç–µ—Å—Ç–æ–≤ —Å Pact –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ —Ç–æ–≥–æ, **—á—Ç–æ –Ω–µ —Å—Ç–æ–∏—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
**. –ï—Å–ª–∏ –≤—Å—ë —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –ª—ë–≥–∫–∏–º–∏ –∏ –ø–æ–ª–µ–∑–Ω—ã–º–∏. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –≤—ã –ø–æ–∂–∞–ª–µ–µ—Ç–µ, —á—Ç–æ –Ω–µ –æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞
–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏. –¢–µ—Å—Ç—ã Pact –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≥–∏–±–∫–∏–º–∏**, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ
–≤–Ω–µ—Å—ë—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π, –Ω–∞—Ä—É—à–∞—é—â–∏—Ö —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.

–û—á–µ–Ω—å –ª–µ–≥–∫–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ö—Ä—É–ø–∫–∏–µ, —á—Ä–µ–∑–º–µ—Ä–Ω–æ —Å—Ç—Ä–æ–≥–∏–µ, –æ–±—Ä–µ–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–µ Pact-—Ç–µ—Å—Ç—ã, –µ—Å–ª–∏ –Ω–µ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –∏—Ö –ø–∏—Å–∞—Ç—å.
–°—Ç–æ–∏—Ç –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞ –æ—Å–º—ã—Å–ª–µ–Ω–∏–µ, –ø—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞—á–∏–Ω–∞—Ç—å.

## –í–∏–¥–µ–æ: –∫–∞–∫ –ø–∏—Å–∞—Ç—å —Ö–æ—Ä–æ—à–∏–µ consumer-—Ç–µ—Å—Ç—ã

–°–ª–µ–¥—É—é—â–µ–µ –≤–∏–¥–µ–æ –æ—Ç –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞ Pact, –ë–µ—Ç –°–∫—ë—Ä—Ä–∏ (Beth Skurrie), –æ–±—ä—è—Å–Ω—è–µ—Ç:

1. –ö–∞–∫–∏–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ö–æ—Ä–æ—à–∏–π Pact-—Ç–µ—Å—Ç
2. –û–±–ª–∞—Å—Ç—å –æ—Ö–≤–∞—Ç–∞ —Ö–æ—Ä–æ—à–µ–≥–æ consumer-—Ç–µ—Å—Ç–∞
3. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ API –∏ –ø–æ—á–µ–º—É –Ω–µ —Å—Ç–æ–∏—Ç –≤–∫–ª—é—á–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏–ª–∏ UI
4. –í–∞—Ä–∏–∞–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç "–≤–µ—Ä—Ö–Ω–µ–≥–æ –¥–æ –Ω–∏–∂–Ω–µ–≥–æ" —É—Ä–æ–≤–Ω—è
5. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ matchers
6. –í–∞–∂–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã (–ó–∞–∫–æ–Ω –ü–æ—Å—Ç–µ–ª–∞, –ª–∏—à–Ω–∏–µ –ø–æ–ª—è)
7. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ç–∏–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã—Ö
8. –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å —Ö—Ä—É–ø–∫–∏—Ö –∏–ª–∏ —Ç—Ä—É–¥–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ç–µ—Å—Ç–æ–≤
9. –°—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–º —è–∑—ã–∫–µ (BDD)
10. –¶–µ–ª–∏ —Ö–æ—Ä–æ—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

[Youtube link](https://www.youtube.com/watch?v=oPuHb9Rl8Zo)

## –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Pact` –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ, –∞ –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

* **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ ‚Äî —ç—Ç–∏ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∫–æ–¥–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞,
  –∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∑–∞–¥–∞—á–µ–π –∫–æ–º–∞–Ω–¥—ã –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.
* **–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫ –∏–º–µ—é—Ç –æ–±—â–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏
  –æ—Ç–≤–µ—Ç–æ–≤.
* Pact-—Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞:
    * –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ **–æ—à–∏–±–æ–∫** –≤ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—Ç–≤–µ—Ç–æ–≤
    * –≤—ã—è–≤–ª–µ–Ω–∏–∏ **–Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏—è** –≤ –æ–∂–∏–¥–∞–Ω–∏—è—Ö –æ—Ç –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
* Pact-—Ç–µ—Å—Ç—ã **–Ω–µ –¥–æ–ª–∂–Ω—ã** —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞:
    * –ø–æ–∏—Å–∫–µ –±–∞–≥–æ–≤ –≤ –ª–æ–≥–∏–∫–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (—Ö–æ—Ç—è —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–±–æ—á–Ω—ã–º —ç—Ñ—Ñ–µ–∫—Ç–æ–º)

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–∞–∑–ª–∏—á–∏—è—Ö –º–µ–∂–¥—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–º –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
—á–∏—Ç–∞–π—Ç–µ [–∑–¥–µ—Å—å](/consumer/contract_tests_not_functional_tests_ru).

**–ü—Ä–∞–≤–∏–ª–æ:** *–µ—Å–ª–∏ –≤—ã –Ω–µ –¥–æ–±–∞–≤–∏—Ç–µ —ç—Ç–æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π, –∫–∞–∫—É—é –æ—à–∏–±–∫—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∏–ª–∏ –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –≤—ã
–º–æ–∂–µ—Ç–µ —É–ø—É—Å—Ç–∏—Ç—å? –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç ‚Äî "–Ω–∏–∫–∞–∫—É—é", –Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —ç—Ç–æ—Ç —Ç–µ—Å—Ç.*

## –î–µ–ª–∞–π—Ç–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –æ —Ç–æ–º, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è

–ù–µ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–æ—Ä–º–∞—Ç ID –∫–ª–∏–µ–Ω—Ç–∞ `[A-Z]{3}-\d{3}`). –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —É—Ç–≤–µ—Ä–∂–¥–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ
—Ç–æ, —á—Ç–æ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Å—ã–ª–∫–∞ –¥–æ–ª–∂–Ω–∞ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `http`, –∏–Ω–∞—á–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
—É–ø–∞–¥—ë—Ç). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫—É —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å, –Ω–µ –Ω–∞—Ä—É—à–∞—è —Ä–∞–±–æ—Ç—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.

## –í—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è (matcher)

–î–ª—è unit-—Ç–µ—Å—Ç–æ–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è —á–∞—â–µ –≤—Å–µ–≥–æ –ø–æ–¥–æ–π–¥—ë—Ç **—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ**. –ï—Å–ª–∏ –≤—ã –ø–æ–∫—Ä—ã–≤–∞–µ—Ç–µ Pact-–æ–º –±–æ–ª—å—à–µ, —á–µ–º —Ç–æ–ª—å–∫–æ
API-–∫–ª–∏–µ–Ω—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –≥–∏–±–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (–ø–æ —Ç–∏–ø—É, —Ä–µ–≥—É–ª—è—Ä–∫–∏ –∏ —Ç.–¥.).

–í –æ—Ç–≤–µ—Ç–∞—Ö **–≥–∏–±–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ. –ù–æ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å—Å—è **–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ**.

–ó–∞–¥–∞–π—Ç–µ —Å–µ–±–µ –≤–æ–ø—Ä–æ—Å: *–µ—Å–ª–∏ —è –æ—Å–ª–∞–±–ª—é/—É—Å–∏–ª—é —ç—Ç–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ ‚Äî –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ —è –ø—Ä–æ–ø—É—â—É/–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â—É?*

–ï—Å–ª–∏ –≤—ã –≤—ã–Ω—É–∂–¥–µ–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–∏–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ID –∏–∑ URL), —ç—Ç–æ
—Å–∏–≥–Ω–∞–ª, —á—Ç–æ API –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª—å–Ω–æ. –í–∞—à–∏ —Ç–µ—Å—Ç—ã –¥–∞—é—Ç –≤–∞–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å!

## –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Pact` –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (unit) —Ç–µ—Å—Ç–æ–≤

* –∫–∞–∫ **mock** (–≤—ã–∑–æ–≤—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è), –∞ –Ω–µ **stub** (–≤—ã–∑–æ–≤—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è)
* —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤/—Ñ—É–Ω–∫—Ü–∏–π, –æ—Ç–≤–µ—á–∞—é—â–∏—Ö –∑–∞ HTTP-–∑–∞–ø—Ä–æ—Å—ã –º–µ–∂–¥—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–º –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º
* —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

**–ü–æ—á–µ–º—É?**

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pact —Å —Ç–æ—á–Ω—ã–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏—Ö UI, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ **—Ö—Ä—É–ø–∫–∏–µ** —Ç–µ—Å—Ç—ã. Pact –ø—Ä–æ–≤–µ—Ä—è–µ—Ç
–∫–∞–∂–¥—ã–π –ø—É—Ç—å, –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–º—É —Ä–æ—Å—Ç—É —á–∏—Å–ª–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è
–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏. –≠—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –ø–æ–ª—å–∑—ã.

## –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Pact –¥–ª—è UI-—Ç–µ—Å—Ç–æ–≤

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pact –≤ UI-—Ç–µ—Å—Ç–∞—Ö, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

* —Å–ª–æ–∂–Ω—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Ç–µ—Å—Ç—ã (–∏–∑-–∑–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π)
* –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Å –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö, —É—Å–ª–æ–∂–Ω—è—é—â–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ shared fixtures –∏–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –º–æ–∫–æ–≤. –°–æ–≥–ª–∞—Å–Ω–æ –ø–∏—Ä–∞–º–∏–¥–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –±–æ–ª—å—à–∞—è
—á–∞—Å—Ç—å —Ç–µ—Å—Ç–æ–≤ UI –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π.

## –û—Å—Ç–æ—Ä–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Pact –≤ –Ω–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö)

* –û—Å—Ç–∞–≤—å—Ç–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å —Ç–æ—á–Ω—ã–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º ‚Äî –æ–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—é –¥–æ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∑–∞–ø—Ä–æ—Å—ã
* –í –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–≥–∏–±–∫–æ–µ** —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏ –≤—ã–Ω–æ—Å–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –æ–±—â–∏–µ –º–µ—Ç–æ–¥—ã

–ï—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –Ω–µ –≤–∞–∂–Ω–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Webmock + shared fixtures.

## –í—Å–µ –≤—ã–∑–æ–≤—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã/—Ñ—É–Ω–∫—Ü–∏–∏

–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã –≤—Ä—É—á–Ω—É—é –≤ –∫–æ–¥–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–ª–∞—Å—Å/—Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
Pact-–æ–º ‚Äî —ç—Ç–æ –¥–∞—ë—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è.

## –û—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å PUT/POST/PATCH ‚Äî –Ω–µ –¥–æ–ø—É—Å–∫–∞–π—Ç–µ GIGO

–ö–∞–∂–¥–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∏–∑–æ–ª—è—Ü–∏–∏. –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å PUT, –∞ –ø–æ—Ç–æ–º GET, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –ª–∏
–∑–Ω–∞—á–µ–Ω–∏—è. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å GIGO (Garbage In, Garbage Out):

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞.
* –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω—É –∏ —Ç—É –∂–µ fixture –∏ –¥–ª—è PUT/POST —Ç–µ–ª–∞, –∏ –¥–ª—è —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞ GET.

## –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `can-i-deploy`

–í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å [can-i-deploy](https://github.com/pact-foundation/pact_broker/wiki/Provider-verification-results)
–∏–∑ [Pact Broker CLI](https://github.com/pact-foundation/pact_broker-client#can-i-deploy), —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, –º–æ–∂–Ω–æ –ª–∏
–±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤–µ—Ä—Å–∏—é –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.

## –í –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ—Ç–≤–µ—Ç—É

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à–∏ –º–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏–∑ —Ç–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –æ–∂–∏–¥–∞–µ—Ç–µ. –ù–∞–ø—Ä–∏–º–µ—Ä: `last_login_time` ‚Äî —ç—Ç–æ `Time`
–∏–ª–∏ `DateTime`? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ factory –∏–ª–∏ fixtures. –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî
–≤ [—ç—Ç–æ–º gist](https://gist.github.com/bethesque/69ae590e8312523e5337).

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö unit-—Ç–µ—Å—Ç–æ–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Pact.
–ö–∞–∂–¥–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–∞–º–∏ —Ö–æ—Ä–æ—à–µ–π –∏ –ø–ª–æ—Ö–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—å —Ä–µ–≤—å—é –∏–ª–∏ –ª–∏–Ω—Ç–∏–Ω–≥ —Å–≤–æ–∏—Ö
—Ç–µ—Å—Ç–æ–≤.

### üß± 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

–û–Ω–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç—Ä–∞–∂–∞—Ç—å **–Ω–∞–º–µ—Ä–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ HTTP-–º–µ—Ç–æ–¥.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–û—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–µ–ª–∞—é—Ç —Ç–µ—Å—Ç—ã –ø–æ–Ω—è—Ç–Ω–µ–µ –∏ –æ–±–ª–µ–≥—á–∞—é—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞. –ò–∑–±–µ–≥–∞–π—Ç–µ
–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –¥–µ—Ç–∞–ª–µ–π, —É–∂–µ —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö—Å—è –≤ –∫–æ–¥–µ.

**‚úÖ –•–æ—Ä–æ—à–æ:**

```ts
.uponReceiving("–∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤")
````

**‚ùå –ü–ª–æ—Ö–æ:**

```ts
.uponReceiving("GET /products") // –î—É–±–ª–∏—Ä—É–µ—Ç URL, —É–∂–µ —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ —Ç–µ—Å—Ç–µ
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∏—Ç–∞–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–≤ —Å—Ç–∏–ª–µ BDD)

–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç –≤ "–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫".

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–≠—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ü–µ–ª–µ–π —Ç–µ—Å—Ç–∞ –¥–∞–∂–µ –¥–ª—è –ª—é–¥–µ–π –≤–Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ UI Pact Broker.

**‚úÖ –•–æ—Ä–æ—à–æ:**

```ts
.addInteraction()
    .given("–≤ –∫–∞—Ç–∞–ª–æ–≥–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã")
    .uponReceiving("–∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤")
    .withRequest("GET", "/products")
    .willRespondWith(200, ...)
```

–ß–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫:

> **–î–∞–Ω–æ**, —á—Ç–æ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã, **–ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏** –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –∏—Ö –ø–æ–ª—É—á–µ–Ω–∏–µ, **–ø–æ—Å—Ç–∞–≤—â–∏–∫ –≤–µ—Ä–Ω—ë—Ç** HTTP
> 200 —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤.

**‚ùå –ü–ª–æ—Ö–æ:**

```ts
.addInteraction()
    .uponReceiving("GET /products")
    .withRequest("GET", "/products")
    .willRespondWith(200, ...)
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–¥–∏–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —É–ø—Ä–æ—â–∞–µ—Ç —á—Ç–µ–Ω–∏–µ, —Ä–µ–≤—å—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –±–æ–ª—å—à–∏—Ö –∫–æ–º–∞–Ω–¥–∞—Ö.

**‚úÖ –•–æ—Ä–æ—à–æ:**

```ts
describe("API ¬´Thing¬ª", () => {
    const pact = new PactV4({
        consumer: "ThingConsumer",
        provider: "ThingProvider",
        spec: SpecificationVersion.SPECIFICATION_VERSION_V4,
    });

    describe("GET /thing/:id", () => {
        test("–µ—Å–ª–∏ –≤–µ—â—å –Ω–∞–π–¥–µ–Ω–∞ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200", async () => {
            await pact
                .addInteraction()
                .given("–≤–µ—â—å —Å id 1 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
                .uponReceiving("–∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–µ—â–∏ —Å ID 1")
                .withRequest("GET", "/thing/1", (builder) => {
                    builder.headers({Accept: "application/json"});
                })
                .willRespondWith(200, (builder) => {
                    builder.jsonBody(like({id: 1, name: "Thing 1", price: 100}));
                })
                .executeTest(async (mockserver) => {
                    const ThingAPI = new ThingAPI(mockserver.url);
                    const thing = await ThingAPI.getThingById(1);
                    expect(thing).toEqual({id: 1, name: "Some 1", price: 100});
                });
        });
    });
});
```

**‚ùå –ü–ª–æ—Ö–æ:**

```ts
describe("Pact Tests", () => {
    const pact = new PactV4({...});

    test("–≤—ã–∑–æ–≤ API", async () => {
        await pact
            .addInteraction()
            .uponReceiving("–ø–æ–ª—É—á–∏—Ç—å –≤–µ—â—å")
            .withRequest("GET", "/thing/1", (builder) => {
                builder.headers({Accept: "application/json"});
            })
    ...
    });
});
```

### üß™ 2. –î–∏–∑–∞–π–Ω –∏ –æ—Ö–≤–∞—Ç —Ç–µ—Å—Ç–æ–≤

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω ¬´–ª–æ–≤–∏—Ç—å –±–∞–≥¬ª

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–ö–∞–∂–¥—ã–π –ø—Ä–∏–º–µ—Ä –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω—É–∂–µ–Ω. –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç, –∏ –æ—Ç —ç—Ç–æ–≥–æ –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è —Ä–∏—Å–∫ —Å–ª–æ–º–∞—Ç—å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
–Ω–µ–∑–∞–º–µ—Ç–Ω–æ ‚Äî –∑–Ω–∞—á–∏—Ç, –æ–Ω –±—ã–ª –ª–∏—à–Ω–∏–º.

‚úÖ –ü—Ä–∏–º–µ—Ä:
–ï—Å–ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–ª—è `status`, –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:

```ts
export function handleDecision(response: { status: string }) {
    switch (response.status) {
        case 'approved':
            return '‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ';
        case 'rejected':
            return '‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ';
        case 'pending':
            return '‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ';
        default:
            throw new Error(`–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å: ${response.status}`);
    }
}
```

–ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π `it(...)` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å—Ç–∞—Ç—É—Å–æ–º.

‚ùå –ü–ª–æ—Ö–æ:
–¢–µ—Å—Ç–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ `'approved'`, –Ω–µ –æ—Ö–≤–∞—Ç—ã–≤–∞—è –¥—Ä—É–≥–∏–µ –≤–µ—Ç–∫–∏ –ª–æ–≥–∏–∫–∏.

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–π API-–∫–ª–∏–µ–Ω—Ç

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–¥ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è**, –∞ –Ω–µ –ø—Ä—è–º–æ–π `fetch` –∏–ª–∏ `axios`.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
const result = await getUser(client, '123');
expect(result).toEqual({id: '123', name: 'Alice'});
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
const response = await axios.get(...); // –ëypa–≤–Ωe consumer logic
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –û–¥–∏–Ω —Ç–µ—Å—Ç ‚Äî –æ–¥–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
test("200, –µ—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ç –Ω–∞–π–¥–µ–Ω", ...);
test("404, –µ—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω", ...);
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
test("–≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã", async () => {
    // –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Å–µ–≥–æ
});
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –ú–∏–Ω–∏–º—É–º —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–æ–≤, –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∏ –ø—Ä–æ—á–µ–≥–æ ‚Äî –æ–Ω–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —à—É–º.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
expect(response).toEqual([...]);
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
expect(response).toEqual([...]);
expect(logger.debug).toHaveBeenCalled();
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –í –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–ß–µ–º –±–æ–ª—å—à–µ –≤—ã –≤–∫–ª—é—á–∞–µ—Ç–µ, —Ç–µ–º –≤—ã—à–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
jsonBody({id: like("123"), name: like("Product 1"), price: like(37.25)});
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
jsonBody({id: ..., name: ..., price: ..., availableStores: [...], ...});
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –ö–æ–Ω—Ç—Ä–∞–∫—Ç ‚â† —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–ö–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É HTTP, –∞ –Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
test("–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç—ã –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ", ...);
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
test("—Å—á–∏—Ç–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É –∫–æ—Ä–∑–∏–Ω—ã", ...); // –≠—Ç–æ —É–∂–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
```

### üß≠ 3. –Ø—Å–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ provider states

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–µ—Å—Ç—ã –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–º–∏ –ø—Ä–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
.
given("–ø—Ä–æ–¥—É–∫—Ç —Å ID 1 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
    .uponReceiving("–∑–∞–ø—Ä–æ—Å –Ω–∞ —ç—Ç–æ—Ç –ø—Ä–æ–¥—É–∫—Ç")
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
.
uponReceiving("–∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç") // –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ matchers

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
Match‚Äô–∏ (`like`, `eachLike`) –¥–µ–ª–∞—é—Ç —Ç–µ—Å—Ç—ã –≥–∏–±–∫–∏–º–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤—ã–º–∏.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
eachLike({id: like("123"), name: like("Product 1")})
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
[{id: "123", name: "Product 1"}] // –•—Ä—É–ø–∫–æ
```

#### üß± –ù–µ –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω—è–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ regex, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —ç—Ç–æ–≥–æ.

‚úÖ OK:

```json
{
  "customerId": "ABC-123"
}
```

‚ùå –ü–µ—Ä–µ—É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ:

```ts
{
    "customerId"
:
    regex("[A-Z]{3}-\\d{3}", "ABC-123")
}
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
Broker —Å—á–∏—Ç–∞–µ—Ç interaction –ø–æ `description + providerState`, –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è ‚Äî –≤–µ–¥—É—Ç –∫ —É–¥–∞–ª–µ–Ω–∏—é –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
.
given("–µ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã").uponReceiving("–∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç")
    .given("–Ω–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤").uponReceiving("–∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç") // OK: providerState –¥—Ä—É–≥–æ–π
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
.
uponReceiving("–∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç")
... // –ü–æ–≤—Ç–æ—Ä ‚Äî –æ–¥–Ω–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –¥—Ä—É–≥—É—é
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –î–µ–ª–∞–π—Ç–µ Pact-—Ñ–∞–π–ª—ã –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (uuid, timestamp) = –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, –ª–∏—à–Ω–∏–µ diffs –≤ Git.

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
jsonBody({
    id: like("123"),
    createdAt: dateTime("yyyy-MM-dd'T'HH:mm:ss.SSSXXX", "2024-01-01T00:00:00.000Z")
});
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
jsonBody({
    id: uuid(), // –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–æ–≤—ã–π
    createdAt: dateTime("yyyy-MM-dd'T'HH:mm:ss.SSSXXX") // –Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
});
```

> ‚ÑπÔ∏è –°–æ–≤–µ—Ç: –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ (`uuid()`, `timestamp()` –∏ —Ç.–¥.)

### üîí 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### ‚úÖ –ü—Ä–∞–≤–∏–ª–æ: –ù–µ –≤–∫–ª—é—á–∞–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
Pact-—Ñ–∞–π–ª—ã –º–æ–≥—É—Ç –ø–æ–ø–∞—Å—Ç—å –≤ –æ–±—â–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ broker. –ù–∏–∫–∞–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –∏ –ø–∞—Ä–æ–ª–µ–π!

‚úÖ –•–æ—Ä–æ—à–æ:

```ts
builder.headers({
    Authorization: like("Bearer <token>")
});
```

‚ùå –ü–ª–æ—Ö–æ:

```ts
builder.headers({
    Authorization: "Bearer real-production-token"
});
```
